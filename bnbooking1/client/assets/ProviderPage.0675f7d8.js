import{q as B,u as S,g as F,s as j,h as D,J as V,c as m,a as v,o as t,b as r,d as s,D as n,t as i,C as d,K as N,F as u,n as k,I as b,w as _,e as p,G as h}from"./vendor.0d325e26.js";import{_ as G,A as c,P as f,p as x,l as P,r as H,a as I}from"./index.a7d9b559.js";const q={setup(){const w=B(),l=S(),g=F(!0);return j(async()=>{}),D(async()=>{try{l.name=="Provider"&&(await x.getProvider(l.params.id),await H.getProviderReviews(l.params.id),await I.getProviderAppointments(l.params.id),g.value=!1)}catch(o){P.error(o),f.toast(o.message,"error")}}),V(()=>{c.activeProvider={},c.formProvider={}}),{provider:m(()=>c.activeProvider),isProvider:m(()=>c.account.id===c.activeProvider.creatorId),reviews:m(()=>c.reviews),account:m(()=>c.account),providerAppointments:m(()=>c.providerAppointments),loading:g,averageRating:m(()=>{let o=0;for(let a=0;a<c.reviews.length;a++)o+=c.reviews[a].rating;return o/c.reviews.length}),providerAppointments:m(()=>c.providerAppointments),formatTime(o){return o<12&&o!=0&&(o=o+":00 AM"),o==12&&(o=o+":00 PM"),o>12&&o<24&&(o=o-12+":00 PM"),o==0&&(o=o+12+":00 AM"),o==24&&(o="End of Day"),o},async deleteProvider(o){try{await f.confirm("Are you sure you want to delete this gig")&&(await x.deleteProvider(o),f.toast("Gig was deleted","success"),w.push({name:"Account"}))}catch(a){P.error(a),f.toast(a.message,"error")}}}}},E={class:"col-12"},z={class:"d-flex justify-content-center pt-4"},L=["src"],W={class:"text-center text-light"},J={key:0,type:"button",class:"btn btn-primary p-1","data-bs-toggle":"modal","data-bs-target":"#create-provider"},K=s("i",{class:"mdi mdi-pencil"},null,-1),Y=[K],O={class:"row p-3 text-light text-center border-bottom border-dark border-3"},Q=s("div",{class:"col-3"},[s("h5",null,[s("i",{class:"mdi mdi-plus-circle p-2"}),n("Add to list")])],-1),U={class:"col-3"},X={type:"button",class:"btn text-light selectable","data-bs-toggle":"modal","data-bs-target":"#create-appointment"},Z={key:0},$=s("i",{class:"mdi mdi-plus-circle p-2"},null,-1),ee=n("Book"),oe=[$,ee],se={key:1},ie=s("i",{class:"mdi mdi-loading mdi-spin"},null,-1),te=[ie],re={class:"col-3"},de={key:0,type:"button",class:"btn text-light selectable","data-bs-toggle":"modal","data-bs-target":"#create-review"},ce=s("h5",null,[s("i",{class:"mdi mdi-plus-circle p-2"}),n("Review")],-1),ne=[ce],le=s("h5",null,[s("i",{class:"mdi mdi-minus-circle p-2"}),n("Delete")],-1),ae=[le],me=s("div",{class:"col-3"},[s("h5",null,[s("i",{class:"mdi mdi-plus-circle p-2"}),n("Share")])],-1),_e={class:"row justify-content-center"},ve={class:"col-md-5 text-center"},he={key:0},pe=h('<i class="mdi mdi-star fs-3"></i><i class="mdi mdi-star fs-3"></i><i class="mdi mdi-star fs-3"></i><i class="mdi mdi-star fs-3"></i><i class="mdi mdi-star fs-3"></i>',5),fe=[pe],ge={key:1},ye=h('<i class="mdi mdi-star fs-2"></i><i class="mdi mdi-star fs-2"></i><i class="mdi mdi-star fs-2"></i><i class="mdi mdi-star fs-2"></i><i class="mdi mdi-star grey fs-2"></i>',5),ue=[ye],be={key:2},we=h('<i class="mdi mdi-star fs-2"></i><i class="mdi mdi-star fs-2"></i><i class="mdi mdi-star fs-2"></i><i class="mdi mdi-star grey fs-2"></i><i class="mdi mdi-star grey fs-2"></i>',5),ke=[we],xe={key:3},Pe=h('<i class="mdi mdi-star fs-2"></i><i class="mdi mdi-star fs-2"></i><i class="mdi mdi-star grey fs-2"></i><i class="mdi mdi-star grey fs-2"></i><i class="mdi mdi-star grey fs-2"></i>',5),Re=[Pe],Te={key:4},Ae=h('<i class="mdi mdi-star fs-2"></i><i class="mdi mdi-star grey fs-2"></i><i class="mdi mdi-star grey fs-2"></i><i class="mdi mdi-star grey fs-2"></i><i class="mdi mdi-star grey fs-2"></i>',5),Ce=[Ae],Me={class:"row justify-content-center"},Be={class:"col-10 col-md-8 map m-3 text-dark elevation-2",style:{"background-image":"url('https://images.unsplash.com/photo-1526778548025-fa2f459cd5c1?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2050&q=80')"}},Se={class:"row"},Fe={class:"col-12"},je={class:"map-card rounded elevation-2 m-3 p-2 text-center"},De=s("h3",null,"Hours",-1),Ve={key:0},Ne={key:1},Ge={key:2},He={key:3},Ie={key:4},qe={key:5},Ee={key:6},ze={class:"mt-2"},Le=["href"],We=s("i",{class:"mdi mdi-google-maps text-info"},null,-1),Je=[We],Ke=s("div",{class:"text-center"},[s("h1",null,[s("span",{class:"border-bottom border-3 border-dark"},"Provider Reviews")])],-1),Ye=n("Become a Provider");function Oe(w,l,g,o,a,R){const T=v("Review"),A=v("AppointmentForm"),y=v("Modal"),C=v("ReviewForm"),M=v("ProviderForm");return t(),r(u,null,[s("div",{class:"row bg-img",style:N(`background-image: linear-gradient( rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5) ), url('${o.provider.coverImg}'); background-size: cover; overflow: hidden;`)},[s("div",E,[s("div",z,[s("img",{class:"img-fluid profile-img",src:o.provider.creator.picture,alt:""},null,8,L)]),s("div",W,[s("p",null,[n(i(o.provider.name)+" ",1),o.provider.creatorId==o.account.id?(t(),r("button",J,Y)):d("",!0)])])])],4),s("div",O,[Q,s("div",U,[s("button",X,[o.loading?(t(),r("h5",se,te)):(t(),r("h5",Z,oe))])]),s("div",re,[o.isProvider?(t(),r("button",{key:1,type:"button",class:"btn text-light selectable",onClick:l[0]||(l[0]=e=>o.deleteProvider(o.provider.id))},ae)):(t(),r("button",de,ne))]),me,s("div",_e,[s("div",ve,[o.averageRating>=4.5?(t(),r("div",he,fe)):d("",!0),o.averageRating>=3.5&o.averageRating<4.5?(t(),r("div",ge,ue)):d("",!0),o.averageRating>=2.5&o.averageRating<3.5?(t(),r("div",be,ke)):d("",!0),o.averageRating>=1.5&o.averageRating<2.5?(t(),r("div",xe,Re)):d("",!0),o.averageRating>=.5&o.averageRating<1.5?(t(),r("div",Te,Ce)):d("",!0)])])]),s("div",Me,[s("div",Be,[s("div",Se,[s("div",Fe,[s("div",je,[De,(t(!0),r(u,null,k(o.provider.availability,e=>(t(),r("div",{key:e.id},[e.day==0?(t(),r("div",Ve," Sunday "+i(e.open==0&&e.close==0?"Closed":"")+" "+i(e.open==0&&e.close==24?"24 hours":"")+" "+i(e.open==0&&e.close==0||e.close>=24?"":o.formatTime(e.open)+" to")+" "+i(e.open==0&&e.close==0||e.close>=24?"":o.formatTime(e.close)),1)):d("",!0),e.day==1?(t(),r("div",Ne," Monday "+i(e.open==0&&e.close==0?"Closed":"")+" "+i(e.open==0&&e.close==24?"24 hours":"")+" "+i(e.open==0&&e.close==0||e.close>=24?"":o.formatTime(e.open)+" to")+" "+i(e.open==0&&e.close==0||e.close>=24?"":o.formatTime(e.close)),1)):d("",!0),e.day==2?(t(),r("div",Ge," Tuesday "+i(e.open==0&&e.close==0?"Closed":"")+" "+i(e.open==0&&e.close==24?"24 hours":"")+" "+i(e.open==0&&e.close==0||e.close>=24?"":o.formatTime(e.open)+" to")+" "+i(e.open==0&&e.close==0||e.close>=24?"":o.formatTime(e.close)),1)):d("",!0),e.day==3?(t(),r("div",He," Wednesday "+i(e.open==0&&e.close==0?"Closed":"")+" "+i(e.open==0&&e.close==24?"24 hours":"")+" "+i(e.open==0&&e.close==0||e.close>=24?"":o.formatTime(e.open)+" to")+" "+i(e.open==0&&e.close==0||e.close>=24?"":o.formatTime(e.close)),1)):d("",!0),e.day==4?(t(),r("div",Ie," Thursday "+i(e.open==0&&e.close==0?"Closed":"")+" "+i(e.open==0&&e.close==24?"24 hours":"")+" "+i(e.open==0&&e.close==0||e.close>=24?"":o.formatTime(e.open)+" to")+" "+i(e.open==0&&e.close==0||e.close>=24?"":o.formatTime(e.close)),1)):d("",!0),e.day==5?(t(),r("div",qe," Friday "+i(e.open==0&&e.close==0?"Closed":"")+" "+i(e.open==0&&e.close==24?"24 hours":"")+" "+i(e.open==0&&e.close==0||e.close>=24?"":o.formatTime(e.open)+" to")+" "+i(e.open==0&&e.close==0||e.close>=24?"":o.formatTime(e.close)),1)):d("",!0),e.day==6?(t(),r("div",Ee," Saturday "+i(e.open==0&&e.close==0?"Closed":"")+" "+i(e.open==0&&e.close==24?"24 hours":"")+" "+i(e.open==0&&e.close==0||e.close>=24?"":o.formatTime(e.open)+" to")+" "+i(e.open==0&&e.close==0||e.close>=24?"":o.formatTime(e.close)),1)):d("",!0)]))),128)),s("h5",ze,[n(" location: "+i(o.provider.location)+" ",1),s("a",{href:"https://maps.google.com/?q=fixlater"},Je,8,Le)])])])])])]),Ke,(t(!0),r(u,null,k(o.reviews,e=>(t(),b(T,{key:e.id,review:e},null,8,["review"]))),128)),o.provider.id?(t(),b(y,{key:0,id:"create-appointment",formProvider:this.provider},{header:_(()=>[n("Book Appointment with "+i(o.provider.name),1)]),body:_(()=>[p(A,{provider:o.provider},null,8,["provider"])]),_:1},8,["formProvider"])):d("",!0),p(y,{id:"create-review"},{header:_(()=>[n("Review "+i(o.provider.name),1)]),body:_(()=>[p(C,{provider:o.provider},null,8,["provider"])]),_:1}),o.provider.id?(t(),b(y,{key:1,id:"create-provider"},{header:_(()=>[Ye]),body:_(()=>[p(M)]),_:1})):d("",!0)],64)}var Xe=G(q,[["render",Oe]]);export{Xe as default};
