import{q as M,u as F,g as S,s as j,h as V,I as H,c as m,a as v,o as t,b as r,d as i,C as n,t as s,B as d,F as u,m as k,H as b,w as _,e as p,E as h}from"./vendor.88e3b3bd.js";import{_ as N,A as c,P as f,p as x,l as P,r as D,a as q}from"./index.bd130d22.js";const E={setup(){const w=M(),a=F(),g=S(!0);return j(async()=>{}),V(async()=>{try{a.name=="Provider"&&(await x.getProvider(a.params.id),await D.getProviderReviews(a.params.id),await q.getProviderAppointments(a.params.id),g.value=!1)}catch(o){P.error(o),f.toast(o.message,"error")}}),H(()=>{c.activeProvider={},c.formProvider={}}),{provider:m(()=>c.activeProvider),isProvider:m(()=>c.account.id===c.activeProvider.creatorId),reviews:m(()=>c.reviews),account:m(()=>c.account),providerAppointments:m(()=>c.providerAppointments),loading:g,averageRating:m(()=>{let o=0;for(let l=0;l<c.reviews.length;l++)o+=c.reviews[l].rating;return o/c.reviews.length}),providerAppointments:m(()=>c.providerAppointments),formatTime(o){return o<12&&o!=0&&(o=o+":00 AM"),o==12&&(o=o+":00 PM"),o>12&&(o=o-12+":00 PM"),o==0&&(o=o+12+":00 AM"),o},async deleteProvider(o){try{await f.confirm("Are you sure you want to delete this gig")&&(await x.deleteProvider(o),f.toast("Gig was deleted","success"),w.push({name:"Account"}))}catch(l){P.error(l),f.toast(l.message,"error")}}}}},G={class:"row bg-img"},I={class:"col-12"},L={class:"d-flex justify-content-center"},W=["src"],Y={class:"text-center text-light"},z={key:0,type:"button",class:"btn btn-primary p-1","data-bs-toggle":"modal","data-bs-target":"#create-provider"},J=i("i",{class:"mdi mdi-pencil"},null,-1),K=[J],O={class:"row p-3 text-light text-center border-bottom border-dark border-3"},Q=i("div",{class:"col-3"},[i("h5",null,[i("i",{class:"mdi mdi-plus-circle p-2"}),n("Add to list")])],-1),U={class:"col-3"},X={type:"button",class:"btn text-light selectable","data-bs-toggle":"modal","data-bs-target":"#create-appointment"},Z={key:0},$=i("i",{class:"mdi mdi-plus-circle p-2"},null,-1),ee=n("Book"),oe=[$,ee],ie={key:1},se=i("i",{class:"mdi mdi-loading mdi-spin"},null,-1),te=[se],re={class:"col-3"},de={key:0,type:"button",class:"btn text-light selectable","data-bs-toggle":"modal","data-bs-target":"#create-review"},ce=i("h5",null,[i("i",{class:"mdi mdi-plus-circle p-2"}),n("Review")],-1),ne=[ce],ae=i("h5",null,[i("i",{class:"mdi mdi-minus-circle p-2"}),n("Delete")],-1),le=[ae],me=i("div",{class:"col-3"},[i("h5",null,[i("i",{class:"mdi mdi-plus-circle p-2"}),n("Share")])],-1),_e={class:"row justify-content-center"},ve={class:"col-md-5 text-center"},he={key:0},pe=h('<i class="mdi mdi-star fs-3"></i><i class="mdi mdi-star fs-3"></i><i class="mdi mdi-star fs-3"></i><i class="mdi mdi-star fs-3"></i><i class="mdi mdi-star fs-3"></i>',5),fe=[pe],ge={key:1},ye=h('<i class="mdi mdi-star fs-2"></i><i class="mdi mdi-star fs-2"></i><i class="mdi mdi-star fs-2"></i><i class="mdi mdi-star fs-2"></i><i class="mdi mdi-star grey fs-2"></i>',5),ue=[ye],be={key:2},we=h('<i class="mdi mdi-star fs-2"></i><i class="mdi mdi-star fs-2"></i><i class="mdi mdi-star fs-2"></i><i class="mdi mdi-star grey fs-2"></i><i class="mdi mdi-star grey fs-2"></i>',5),ke=[we],xe={key:3},Pe=h('<i class="mdi mdi-star fs-2"></i><i class="mdi mdi-star fs-2"></i><i class="mdi mdi-star grey fs-2"></i><i class="mdi mdi-star grey fs-2"></i><i class="mdi mdi-star grey fs-2"></i>',5),Re=[Pe],Te={key:4},Ae=h('<i class="mdi mdi-star fs-2"></i><i class="mdi mdi-star grey fs-2"></i><i class="mdi mdi-star grey fs-2"></i><i class="mdi mdi-star grey fs-2"></i><i class="mdi mdi-star grey fs-2"></i>',5),Ce=[Ae],Be={class:"row justify-content-center"},Me={class:"col-10 col-md-8 map m-3 text-dark elevation-2",style:{"background-image":"url('https://images.unsplash.com/photo-1526778548025-fa2f459cd5c1?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2050&q=80')"}},Fe={class:"row"},Se={class:"col-12"},je={class:"map-card rounded elevation-2 m-3 p-2 text-center"},Ve=i("h3",null,"Hours",-1),He={key:0},Ne={key:1},De={key:2},qe={key:3},Ee={key:4},Ge={key:5},Ie={key:6},Le={class:"mt-2"},We=["href"],Ye=i("i",{class:"mdi mdi-google-maps text-info"},null,-1),ze=[Ye],Je=i("div",{class:"text-center"},[i("h1",null,[i("span",{class:"border-bottom border-3 border-dark"},"Provider Reviews")])],-1),Ke=n("Become a Provider");function Oe(w,a,g,o,l,R){const T=v("Review"),A=v("AppointmentForm"),y=v("Modal"),C=v("ReviewForm"),B=v("ProviderForm");return t(),r(u,null,[i("div",G,[i("div",I,[i("div",L,[i("img",{class:"img-fluid profile-img",src:o.provider.creator.picture,alt:""},null,8,W)]),i("div",Y,[i("p",null,[n(s(o.provider.name)+" ",1),o.provider.creatorId==o.account.id?(t(),r("button",z,K)):d("",!0)])])])]),i("div",O,[Q,i("div",U,[i("button",X,[o.loading?(t(),r("h5",ie,te)):(t(),r("h5",Z,oe))])]),i("div",re,[o.isProvider?(t(),r("button",{key:1,type:"button",class:"btn text-light selectable",onClick:a[0]||(a[0]=e=>o.deleteProvider(o.provider.id))},le)):(t(),r("button",de,ne))]),me,i("div",_e,[i("div",ve,[o.averageRating>=4.5?(t(),r("div",he,fe)):d("",!0),o.averageRating>=3.5&o.averageRating<4.5?(t(),r("div",ge,ue)):d("",!0),o.averageRating>=2.5&o.averageRating<3.5?(t(),r("div",be,ke)):d("",!0),o.averageRating>=1.5&o.averageRating<2.5?(t(),r("div",xe,Re)):d("",!0),o.averageRating>=.5&o.averageRating<1.5?(t(),r("div",Te,Ce)):d("",!0)])])]),i("div",Be,[i("div",Me,[i("div",Fe,[i("div",Se,[i("div",je,[Ve,(t(!0),r(u,null,k(o.provider.availability,e=>(t(),r("div",{key:e.id},[e.day==0?(t(),r("div",He," Sunday "+s(e.open==0&&e.close==0?"Closed":"")+" "+s(e.open==0&&e.close==0?"":o.formatTime(e.open))+" "+s(e.open==0&&e.close==0?"":o.formatTime(e.close)),1)):d("",!0),e.day==1?(t(),r("div",Ne," Monday "+s(e.open==0&&e.close==0?"Closed":"")+" "+s(e.open==0&&e.close==0?"":o.formatTime(e.open))+" "+s(e.open==0&&e.close==0?"":o.formatTime(e.close)),1)):d("",!0),e.day==2?(t(),r("div",De," Tuesday "+s(e.open==0&&e.close==0?"Closed":"")+" "+s(e.open==0&&e.close==0?"":o.formatTime(e.open))+" "+s(e.open==0&&e.close==0?"":o.formatTime(e.close)),1)):d("",!0),e.day==3?(t(),r("div",qe," Wednesday "+s(e.open==0&&e.close==0?"Closed":"")+" "+s(e.open==0&&e.close==0?"":o.formatTime(e.open))+" "+s(e.open==0&&e.close==0?"":o.formatTime(e.close)),1)):d("",!0),e.day==4?(t(),r("div",Ee," Thursday "+s(e.open==0&&e.close==0?"Closed":"")+" "+s(e.open==0&&e.close==0?"":o.formatTime(e.open))+" "+s(e.open==0&&e.close==0?"":o.formatTime(e.close)),1)):d("",!0),e.day==5?(t(),r("div",Ge," Friday "+s(e.open==0&&e.close==0?"Closed":"")+" "+s(e.open==0&&e.close==0?"":o.formatTime(e.open))+" "+s(e.open==0&&e.close==0?"":o.formatTime(e.close)),1)):d("",!0),e.day==6?(t(),r("div",Ie," Saturday "+s(e.open==0&&e.close==0?"Closed":"")+" "+s(e.open==0&&e.close==0?"":o.formatTime(e.open))+" "+s(e.open==0&&e.close==0?"":o.formatTime(e.close)),1)):d("",!0)]))),128)),i("h5",Le,[n(" location: "+s(o.provider.location)+" ",1),i("a",{href:"https://maps.google.com/?q=fixlater"},ze,8,We)])])])])])]),Je,(t(!0),r(u,null,k(o.reviews,e=>(t(),b(T,{key:e.id,review:e},null,8,["review"]))),128)),o.provider.id?(t(),b(y,{key:0,id:"create-appointment",formProvider:this.provider},{header:_(()=>[n("Book Appointment with "+s(o.provider.name),1)]),body:_(()=>[p(A,{provider:o.provider},null,8,["provider"])]),_:1},8,["formProvider"])):d("",!0),p(y,{id:"create-review"},{header:_(()=>[n("Review "+s(o.provider.name),1)]),body:_(()=>[p(C,{provider:o.provider},null,8,["provider"])]),_:1}),o.provider.id?(t(),b(y,{key:1,id:"create-provider"},{header:_(()=>[Ke]),body:_(()=>[p(B)]),_:1})):d("",!0)],64)}var Xe=N(E,[["render",Oe]]);export{Xe as default};
